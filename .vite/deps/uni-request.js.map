{
  "version": 3,
  "sources": ["../../pages/index/node_modules/uni-request/src/helpers/util.js", "../../pages/index/node_modules/uni-request/src/InterceptorManager.js", "../../pages/index/node_modules/uni-request/src/core/dispatchRequest.js", "../../pages/index/node_modules/uni-request/src/class.js", "../../pages/index/node_modules/uni-request/src/defaults.js", "../../pages/index/node_modules/uni-request/src/request.js", "../../pages/index/node_modules/uni-request/index.js"],
  "sourcesContent": ["export const bind = function(fn,thisArg){\r\n    return function warp(){\r\n       return fn.apply(thisArg , Array.from(arguments) )\r\n    }\r\n}\r\n\r\nexport const extend = function (a,b, thisArg) {\r\n    let o = Object.getOwnPropertyNames( b );\r\n    o.forEach(attr => {\r\n        if(thisArg && typeof b[attr] === \"function\" ){\r\n            a[attr] = bind( b[attr] , thisArg )\r\n        }else{\r\n            a[attr] = b[attr];\r\n        }\r\n    });\r\n    return a;\r\n}\r\n\r\nexport const copyobj = function( a, b ){\r\n    return Object.assign( {} , a ,b );\r\n}\r\n\r\n\r\nexport const merge = function(){\r\n    var result = {};\r\n    Array.from(arguments).forEach( e =>{\r\n        for(let key in e){\r\n            if( typeof e[key] === 'object' && !isEmptyObject(e[key]) ){\r\n                merge( result[key] , e[key] )\r\n            }\r\n            result[key] = e[key]\r\n        }\r\n    });\r\n    return result;\r\n}\r\n\r\n\r\n\r\nexport const deepMerge = function () {\r\n    let result = {};\r\n    Array.from(arguments).forEach(e =>{\r\n        if( e && typeof e === 'object' && !isEmptyObject(e) ) {\r\n            Object.keys(e).forEach( key => {\r\n                if( typeof e[key] === 'object'){\r\n                    return result[key] = deepMerge( result[key] , e[key] )\r\n                }\r\n                result[key] = e[key]\r\n            });\r\n        }\r\n    })\r\n    return result ;\r\n}\r\n\r\n\r\nexport const isEmptyObject = function(obj){\r\n    return Object.getOwnPropertyNames(obj).length === 0\r\n}\r\n\r\n\r\n\r\nexport const combineURLs = function (baseURL, relativeURL) {\r\n    return relativeURL\r\n      ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\r\n      : baseURL;\r\n};\r\n\r\n\r\n\r\nfunction encode(val) {\r\n    return encodeURIComponent(val).\r\n        replace(/%40/gi, '@').\r\n        replace(/%3A/gi, ':').\r\n        replace(/%24/g, '$').\r\n        replace(/%2C/gi, ',').\r\n        replace(/%20/g, '+').\r\n        replace(/%5B/gi, '[').\r\n        replace(/%5D/gi, ']');\r\n}\r\nexport const buildURL = function ( url , paramsObject ){\r\n    if( !paramsObject || isEmptyObject(paramsObject) ) return url;\r\n    let parts = [];\r\n    Object.keys( paramsObject ).forEach(key =>{\r\n        parts.push( encode(key) + '=' + encode( paramsObject[key] ) );\r\n    });\r\n    return url += ( url.indexOf('?') === -1 ? '?' : '&' ) + parts.join('&');\r\n}\r\n\r\n\r\n/**\r\n * Determines whether the specified URL is absolute\r\n *\r\n * @param {string} url The URL to test\r\n * @returns {boolean} True if the specified URL is absolute, otherwise false\r\n */\r\n\r\nexport const isAbsoluteURL =  function (url) {\r\n    // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\r\n    // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\r\n    // by any combination of letters, digits, plus, period, or hyphen.\r\n    return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\r\n};", "export default class InterceptorManager{\r\n    constructor(){\r\n        this.handlers = [];\r\n    }\r\n\r\n    use(fulfilled, rejected){\r\n        this.handlers.push({\r\n            fulfilled,\r\n            rejected\r\n        });\r\n        return this.handlers.length - 1;\r\n    }\r\n\r\n    eject(id){\r\n        if( this.handlers[id] ){\r\n            this.handlers[id] = null;\r\n        }\r\n    }\r\n\r\n    forEach(fn){\r\n        this.handlers.forEach(e =>{\r\n            if(e !== null ){\r\n                fn(e)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n", "import * as util from '../helpers/util';\r\n\r\n\r\nexport const dispatchRequest = function (config) {\r\n\r\n    if (config.baseURL && !util.isAbsoluteURL(config.url)) {\r\n        config.url = util.combineURLs(config.baseURL, config.url);\r\n    }\r\n    \r\n    config.url = util.buildURL( config.url , config.params );\r\n\r\n    config.data = util.merge(\r\n        config.data , \r\n        config.transformRequest(config.data)\r\n    );\r\n\r\n    config.headers = util.merge(\r\n        config.headers.common || {},\r\n        config.headers[config.method] || {},\r\n        config.headers || {},\r\n    );\r\n\r\n    let methods = ['delete', 'get', 'head', 'post', 'put', 'patch', 'common']\r\n    methods.forEach(method => {\r\n        delete config.headers[method];\r\n    });\r\n\r\n    let promise = Promise.resolve( config );\r\n    promise = promise.then( config => {\r\n       return new Promise(function(resolve, reject) {\r\n            let requestTask =  uni.request({\r\n                url : config.url ,\r\n                data : config.data || {},\r\n                header : config.headers,\r\n                method : config.method,\r\n                dataType : config.dataType,\r\n                success : function (res) {\t\t\t\t\t\t\t\t\t\r\n                    resolve({\r\n                        data : res.data ,\r\n                        headers : res.header,\r\n                        status : res.statusCode,\r\n                        statusText : 'ok'\r\n                    })\r\n                },\r\n                fail : function (err) {\r\n                    reject(err)\r\n                },\r\n                complete :  function () {\r\n                    config.complete && config.complete()\r\n                }\r\n            })\r\n\r\n            if( config.timeout && typeof config.timeout === 'number' && config.timeout > 1000 ){\r\n                setTimeout(() =>{\r\n                    requestTask.abort();\r\n                    resolve({\r\n                        status : 'canceled'\r\n                    });\r\n                },config.timeout)\r\n            }\r\n        });\r\n    })\r\n\r\n    return promise;\r\n}", "import * as util  from './helpers/util';\r\nimport InterceptorManager from './InterceptorManager';\r\nimport { dispatchRequest } from './core/dispatchRequest';\r\n\r\n\r\nclass Request {\r\n    constructor( config ){\r\n        this.defaults = config;\r\n        this.interceptors = {\r\n            request: new InterceptorManager(),\r\n            response: new InterceptorManager()\r\n        };\r\n    }\r\n    request( config ){\r\n        if( typeof config === 'string'){\r\n            config = util.merge({url: arguments[0]}, arguments[1]);\r\n        }\r\n\r\n        config = util.deepMerge(this.defaults , config );\r\n        config.method = config.method ? config.method.toLowerCase() : 'get' ;\r\n\r\n        let chain = [dispatchRequest, undefined];\r\n        let promise = Promise.resolve( config );\r\n\r\n        this.interceptors.request.forEach(function(interceptor) {\r\n            chain.unshift(interceptor.fulfilled, interceptor.rejected);\r\n        });\r\n    \r\n        this.interceptors.response.forEach(function(interceptor) {\r\n            chain.push(interceptor.fulfilled, interceptor.rejected);\r\n        });\r\n\r\n        while (chain.length) {\r\n            promise = promise.then(chain.shift(), chain.shift());\r\n        }\r\n    \r\n        return promise;\r\n    }\r\n    all (promises){\r\n        return Promise.all(promises);\r\n    }\r\n}\r\n\r\n\r\n\r\n['delete', 'get', 'head', 'options', 'trace'].forEach(method => {\r\n    Request.prototype[method] = function ( url,config ) {\r\n        return this.request( util.merge(config || {} ,{\r\n            method,\r\n            url\r\n        }) );\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n['post', 'put', 'patch' ].forEach(method => {\r\n    Request.prototype[method] = function ( url, data, config ) {\r\n        return this.request( util.merge(config || {} ,{\r\n            method,\r\n            url,\r\n            data\r\n        }) );\r\n    }\r\n});\r\n\r\n\r\n\r\nexport default Request;", "import * as util from './helpers/util';\r\n\r\nlet DEFAULT_CONTENT_TYPE = {\r\n    'Content-Type': 'application/x-www-form-urlencoded'\r\n};\r\n\r\nvar defaults = {\r\n    method: 'get', // default\r\n    // baseURL: '',\r\n    dataType : 'json',\r\n    responseType : 'text',\r\n    // timeout: 0,\r\n    headers: {},\r\n\r\n    // params : {},\r\n\r\n    transformRequest (data) {\r\n        return data;\r\n    },\r\n\r\n    // transformResponse (data) {\r\n    //     return data;\r\n    // },\r\n\r\n    // validateStatus ( status ) {\r\n    //     return status >= 200 && status < 300\r\n    // }\r\n\r\n};\r\n\r\ndefaults.headers = {\r\n    common: {\r\n      'Accept': 'application/json, text/plain, */*'\r\n    }\r\n};\r\n\r\n['delete','get', 'head','post', 'put', 'patch'].map(e => {\r\n    defaults.headers[e] = util.merge(defaults.headers , DEFAULT_CONTENT_TYPE);\r\n});\r\n\r\n\r\nexport default defaults;", "\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport Request from './class';\r\nimport * as util  from './helpers/util';\r\nimport defaults from './defaults';\r\n\r\n\r\nfunction createInstance(config) {\r\n    let context = new Request(config);\r\n    let instance = util.bind( Request.prototype.request , context );\r\n    util.extend( instance , Request.prototype , context );\r\n    util.extend( instance , context );\r\n    return instance;\r\n}\r\n\r\nlet request = createInstance(defaults);\r\n\r\n\r\n// 用于创建多个实例\r\nrequest.create = function (config) {\r\n    return createInstance(utils.merge(defaults, config));\r\n};\r\n\r\n// 并发请求数据处理\r\nrequest.spread = function (callback){\r\n    return function (...arg) {\r\n        return callback.apply(null , [...arg] );\r\n    }\r\n}\r\n\r\n\r\nexport default request; \r\n\r\n\r\n", "\r\n\r\nimport request from './src/request';\r\n\r\nexport default request;\r\n\r\n\r\n"],
  "mappings": "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",
  "names": ["config"]
}
